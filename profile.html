<!DOCTYPE html>
<html>

<head>
	<link rel="icon" href="./images/icon-512.png" type="image/png">
	<link rel="manifest" href="./manifest.json">
	<link rel="stylesheet" href="./stylesheets/profile.css">
	<link rel="stylesheet" href="./stylesheets/footer.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
	<script src="./scripts/profile.js"></script>
	<script src="./scripts/auth.js"></script>
	<title>CoToDo</title>
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="theme-color" content="#000000">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
</head>

<body>
	<div class="wrapper">
		<div class="backto-index" onclick="window.location.href='index.html'">
			<i class="fa-solid fa-arrow-left"></i>
		</div>
		<span class="profile-text">Profile</span>
		<div class="logout"><i class="fa-solid fa-right-from-bracket"></i></div>
	</div>

	<div id="logout-confirm-popup" class="popup" style="display: none;">
		<div class="popup-content">
			<p>Are you sure you want to logout from this account?</p>
			<div class="popup-buttons">
				<button class="popup-button cancel-popup-button">Cancel</button>
				<button class="popup-button confirm-button">Logout</button>
			</div>
		</div>
	</div>

	<div class="main-content">
		<div class="profile-background">
			<div class="profile-circle"></div>
			<div class="profile-ellipse"></div>
			<div class="profile-rectangle"></div>
		</div>
		<div class="profile-section">
			<div class="account-avatar">M</div>
			<div class="profile-name">Mike</div>

			<div class="options">
				<button id="modify-mail-button">
					<i class="fa-solid fa-pen-to-square"></i>
					<span>Change e-mail</span>
				</button>
				<button id="modify-password-button">
					<i class="fa-solid fa-pen"></i>
					<span>Change password</span>
				</button>
				<button id="support-button">
					<i class="fa-solid fa-headphones"></i>
					<span>Support</span>
				</button>
				<button id="delete-profile-button">
					<i class="fa-solid fa-trash-can"></i>
					<span>Delete account</span>
				</button>
			</div>
		</div>
		<div id="delete-confirm-popup" class="popup" style="display: none;">
			<div class="popup-content">
				<p>Are you sure you want to delete this account? This action cannot be undone.</p>
				<div class="popup-buttons">
					<button class="popup-button cancel-popup-button">Cancel</button>
					<button class="popup-button confirm-button">Delete</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Email  Modal -->
	<div id="change-email-modal" class="modal">
		<div class="modal-overlay"></div>
		<div class="change-email-container">
			<div class="change-email-form">
				<div class="modal-header">
					<h1 class="form-title">Change Email</h1>
					<button class="close-modal"><i class="fa-solid fa-times"></i></button>
				</div>
				<form id="change-email-form">
					<div class="form-group">
						<label for="new-email">New email address</label>
						<input type="email" id="new-email" name="new-email" class="form-control" required>
					</div>
					<div class="form-group">
						<label for="confirm-email">Confirm new email address</label>
						<input type="email" id="confirm-email" name="confirm-email" class="form-control" required>
						<div class="error-message" id="email-match-error">Email addresses do not match</div>
					</div>
					<div class="form-group password-group">
						<label for="password">Password</label>
						<input type="password" id="password" name="password" class="form-control" 
							autocomplete="current-password" required>
					</div>
					<div class="form-actions">
						<button type="submit" id="change-email-button" class="change-email-button">Update email</button>
					</div>
				</form>
				<div class="form-success-message">
					Email updated successfully! A verification link has been sent to your new email.
				</div>
			</div>
		</div>
	</div>

	<!--  Password Modal -->
	<div id="change-password-modal" class="modal">
		<div class="modal-overlay"></div>
		<div class="change-password-container">
			<div class="change-password-form">
				<div class="modal-header">
					<h1 class="form-title">Change Password</h1>
					<button class="close-modal"><i class="fa-solid fa-times"></i></button>
				</div>
				<form id="change-password-form">
					<div class="form-group">
						<label for="current-password">Current password</label>
						<input type="password" id="current-password" name="current-password" class="form-control" required>
					</div>
					<div class="form-group">
						<label for="new-password">New password</label>
						<input type="password" id="new-password" name="new-password" class="form-control" required>
						<div class="password-strength">
							<div class="strength-bar">
								<div class="strength-progress"></div>
							</div>
							<div class="strength-text">Password strength: <span>Weak</span></div>
						</div>
					</div>
					<div class="form-group">
						<label for="confirm-password">Confirm new password</label>
						<input type="password" id="confirm-password" name="confirm-password" class="form-control" required>
						<div class="error-message" id="password-match-error">Passwords do not match</div>
					</div>
					<div class="form-actions">
						<button type="submit" id="change-password-button" class="change-password-button">Update password</button>
					</div>
				</form>
				<div class="form-success-message">
					Password updated successfully!
				</div>
			</div>
		</div>
	</div>
</body>

</html>