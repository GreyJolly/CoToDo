<!DOCTYPE html>
<html>

<head>
	<link rel="icon" href="./images/icon-512.png" type="image/png">
	<link rel="manifest" href="./manifest.json">
	<link rel="stylesheet" href="./stylesheets/task.css">
	<link rel="stylesheet" href="./stylesheets/buttons.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
	<script src="./scripts/task.js"></script>
	<title>CoToDo</title>
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="theme-color" content="#000000">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
</head>

<body>
	<div class="wrapper">
		<div class="backto-list"><i class="fa-solid fa-arrow-left"></i></div>
		<span class="list-text"></span>
	</div>

	<div class="main-content">
		<div class="task-detail">
			<div class="task-header">
				<input type="checkbox" id="task-complete">
				<div class="task-dates">
					<div class="task-date-item" onclick="openCalendar('start')">
						<span>Start:</span><br>
						<span class="task-start-date">No date</span>
					</div>
					<div class="task-date-item" onclick="openCalendar('due')">
						<span>Due:</span><br>
						<span class="task-due-date">No date</span>
					</div>
				</div> <i class="flag-icon fa-regular fa-flag" id="flag-icon"></i>
			</div>
			<div class="priority-popup" id="priorityPopup" hidden>
				<div class="priority-option" data-priority="high"><i class="fa-solid fa-flag" style="color: red;"></i>
					High priority</div>
				<div class="priority-option" data-priority="medium"><i class="fa-solid fa-flag"
						style="color: orange;"></i> Medium priority</div>
				<div class="priority-option" data-priority="low"><i class="fa-solid fa-flag"
						style="color: limegreen;"></i> Low priority</div>
				<div class="priority-option" data-priority="none"><i class="fa-regular fa-flag"
						style="color: white;"></i> No priority</div>
			</div>
			<input type="text" class="task-title" placeholder="What would you like to do?">
			<input type="text" class="task-description" placeholder="Description">

			<div class="calendar-popup" id="calendarPopup" hidden>
				<div class="calendar-header">
					<div class="calendar-nav">
						<button class="calendar-prev" onclick="navigateCalendar(-1)"><i
								class="fa-solid fa-chevron-left"></i></button>
						<span class="calendar-month-year">May 2025</span>
						<button class="calendar-next" onclick="navigateCalendar(1)"><i
								class="fa-solid fa-chevron-right"></i></button>
					</div>
					<div class="calendar-divider"></div>
				</div>
				<div class="calendar-days"></div>
				<div class="calendar-bottom-bar"></div>
				<div class="date-selection-mode">
					<label>
						<input id="radio-start" type="radio" name="dateType" value="start"> Start Date
					</label>
					<label>
						<input id="radio-due" type="radio" name="dateType" value="due" checked="checked"> Due Date
					</label>
				</div>
			</div>

			<div class="enter-hint-container" id="enterHintContainer" hidden>
				<input type="checkbox" class="enter-hint-checkbox" disabled>
				<span class="enter-hint-text">Tap “enter” to create an item</span>
			</div>
			<div class="assign-members-popup" id="assignMembersPopup" hidden>
			</div>
			<!-- In your task.html, modify the subtasks container -->
			<div class="subtasks-container" id="subtasksContainer" hidden>
				<div class="subtasks-list" id="subtasksList"></div>
				<div class="add-subtask-container" id="addSubtaskContainer" hidden>
					<input type="text" class="add-subtask-input" placeholder="Add a subtask" id="addSubtaskInput">
				</div>
			</div>
		</div>
		<!-- Delete Confirmation Popup -->
		<div id="delete-confirm-popup" class="popup" style="display: none;">
			<div class="popup-content">
				<p>Are you sure you want to delete this task? This action cannot be undone.</p>
				<div class="popup-buttons">
					<button class="popup-button cancel-button">Cancel</button>
					<button class="popup-button confirm-button">Delete</button>
        		</div>
    		</div>
		</div>
	</div>

	<footer class="footer">
		<button id="delete-task-button" onclick="deleteTask()"><i class="fa-solid fa-trash-can"></i></button>
		<div class="right-buttons">
			<button id="bullet-list-button" onclick="openSublist()"><i class="fa-solid fa-list"></i></button>
			<button id="user-list-button" onclick="openAssignMembers()"><i class="fa-solid fa-users"></i></button>
		</div>
	</footer>
</body>

</html>